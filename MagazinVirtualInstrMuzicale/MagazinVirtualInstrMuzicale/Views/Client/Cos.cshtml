@model IEnumerable<MVIM.DAL.Cos>

@{
    ViewBag.Title = "Cos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3>Cos</h3>

@{ decimal total = 0;}
<table class="table">
    <tr>
        <th>
            Denumirea Produsului
        </th>
        <th>
            Cantitate
        </th>
        <th>
            Pret
        </th>
        <th></th>
    </tr>

@foreach (var item in Model)
{
    total = total + (item.Produs.PretProdus * item.Cantitate);
    item.Produs.PretProdus *= item.Cantitate; 
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Produs.NumeProdus)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cantitate)
        </td>
        <td>
            @item.Produs.PretProdus.ToString("#,##") &nbsp; RON
        </td>
        <td>
            @Html.ActionLink("Delete", "Delete", new { idCos = item.IdCos })
        </td>
    </tr>
}  
</table>
<br />
<label style="float:right">TOTAL: @total.ToString("#.##") RON</label>
<br />
<br />
<a href="~/Client/FinalizeazaComanda"><input type="button" value="Finalizeaza Comanda" /></a>
